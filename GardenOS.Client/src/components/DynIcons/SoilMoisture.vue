<template>
	<div class="sm-icon_wrapper">
		<svg class="sm-icon_wave_wrapper" :style="`transform: translateY(${value > 100 ? 0 : (100 - value) + 15}%);`"
			version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 40" fill="#ffffff" width="100%" height="115%">
			<path class="sm-icon_wave_big" fill="#09628b"
				d="M30 3A3.4376 3.4376 0 0127 1 1 1 0 0026 .3 1 1 0 0025 1 3.44 3.44 0 0122 3 3.4376 3.4376 0 0119 1 1.007 1.007 0 0018 .3.9894.9894 0 0017 1 3.44 3.44 0 0114 3 3.3663 3.3663 0 0111 1 1 1 0 0010 .3 1.0094 1.0094 0 009 1 3.3663 3.3663 0 016 3 3.3663 3.3663 0 013 1 1 1 0 002 .3 1 1 0 001 1 3.3663 3.3663 0 01-2 3 3.3663 3.3663 0 01-5 1 1 1 0 00-6 .3 1 1 0 00-7 1 3.3663 3.3663 0 01-10 3 4.9958 4.9958 0 01-13 1 1 1 0 00-14 .3 1 1 0 00-15 1 3.3663 3.3663 0 01-18 3 3.3663 3.3663 0 01-21 1 1 1 0 00-22 .3 1 1 0 00-23 1 3.3663 3.3663 0 01-26 3V100H30Z" />
		</svg>
		<svg v-if="value < 60" class="sm-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 46"
			fill="#ffffff" width="100%" height="100%">
			<path fill="#2db83d" stroke="#000000" stroke-width="0.1px"
				d="M 50 43 C 47 41 43.35 42.88 40.84 42.88 C 38.32 42.88 37.1 41.9 35.69 40.77 C 34.34 39.69 32.8 38.46 30.17 38.11 V 22.05 H 33 C 35 22 39 25 44 32 C 46 35 50 34 50 30 C 50 3 31 6 28.67 13.08 C 26 6 7 4 7 30 C 7 34 13 35 15 32 C 19 25 23 22 25 22 H 27.16 V 38.11 C 24.53 38.46 22.99 39.69 21.64 40.78 C 20.23 41.91 19 43 16.5 42.89 S 13 41 9 43 C 6 44 7 47 9 46 C 13 44 13 46 16.5 45.9 C 20 46 21.9 44.43 23.52 43.13 C 24.93 42 26.15 41.02 28.66 41.02 C 31.17 41.02 32.39 42 33.81 43.13 C 35.43 44.43 37.26 45.9 40.83 45.9 C 44 46 47 44 50 46 C 52 47 53 44 50 43 M 27 20 L 25 20 C 21 20 16 24 13 31 C 12 33 9 32 9 29 C 10 9 23 8 27 14 C 28 16 28 18 27 20 M 30 20 C 29 18 29 16 30 14 C 34 8 47 9 48 29 C 48 32 46 33 45 31 C 42 24 36 20 32 20" />
		</svg>
		<div v-else-if="value < 100" class="sm-icon">
			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 46" fill="#ffffff" width="100%"
				height="100%">
				<path fill="#2db83d" stroke="#000000" stroke-width="0.1px"
					d="M53 38C49.43 38 47.59 39.47 45.98 40.77 44.57 41.9 43.35 42.88 40.84 42.88 38.32 42.88 37.1 41.9 35.69 40.77 34.34 39.69 32.8 38.46 30.17 38.11V22.05H36.76C47.52 22.05 56.27 13.3 56.27 2.54 56.27 1.71 55.6 1.04 54.77 1.04H46.68C38.76 1.04 31.72 5.76 28.67 13.08 25.63 5.76 18.58 1.04 10.66 1.04H2.57C1.74 1.04 1.07 1.71 1.07 2.54 1.07 13.3 9.82 22.05 20.58 22.05H27.16V38.11C24.53 38.46 22.99 39.69 21.64 40.78 20.23 41.91 19.01 42.89 16.5 42.89 13.99 42.89 12.77 41.91 11.36 40.78 9.74 39.48 7.91 38.02 4.34 38.02 3.51 38.02 2.84 38.69 2.84 39.52S3.51 41.02 4.34 41.02C6.85 41.02 8.07 42 9.48 43.13 11.1 44.43 12.93 45.9 16.5 45.9 20.06 45.9 21.9 44.43 23.52 43.13 24.93 42 26.15 41.02 28.66 41.02 31.17 41.02 32.39 42 33.81 43.13 35.43 44.43 37.26 45.9 40.83 45.9 44.4 45.9 46.23 44.43 47.85 43.13 49.26 42 50.48 41.02 53 41.02 53.83 41.02 54.5 40.35 54.5 39.52S53.83 38 53 38ZM30.24 19.04C30.61 14.98 32.47 11.21 35.49 8.42 38.55 5.59 42.52 4.04 46.68 4.04H53.2C52.83 8.1 50.97 11.87 47.95 14.66 44.89 17.49 40.92 19.04 36.76 19.04H30.24ZM27.1 19.04H20.58C16.42 19.04 12.45 17.48 9.39 14.66 6.37 11.87 4.51 8.1 4.14 4.04H10.66C14.82 4.04 18.79 5.6 21.85 8.42 24.87 11.21 26.73 14.98 27.1 19.04Z" />
			</svg>
		</div>
		<svg v-else-if="value > 100" class="sm-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 40"
			fill="#ffffff" width="100%" height="100%">
			<path class="sm-icon_wave_small" d="" />
			<path class="sm-icon_wave_small"
				d="m41 23a3.4376 3.4376 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.4376 3.4376 0 01-3 2 3.4376 3.4376 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.44 3.44 0 01-3 2 3.4376 3.4376 0 01-3-2 1.007 1.007 0 00-1-.7.9894.9894 0 00-1 .7 3.44 3.44 0 01-3 2 3.3663 3.3663 0 01-3-2 1 1 0 00-1-.7 1.0094 1.0094 0 00-1 .7 3.3663 3.3663 0 01-3 2 3.3663 3.3663 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.3663 3.3663 0 01-3 2 3.3663 3.3663 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.3663 3.3663 0 01-3 2 3.3663 3.3663 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.3663 3.3663 0 01-3 2v2a4.9958 4.9958 0 004-2 4.9958 4.9958 0 008 0 4.9958 4.9958 0 008 .0127 5.0192 5.0192 0 008 0 5.0192 5.0192 0 008 0 4.9316 4.9316 0 004 1.9873 4.9316 4.9316 0 004-2 4.9316 4.9316 0 004 2 4.9316 4.9316 0 004-2 4.9316 4.9316 0 004 2z" />
			<path class="sm-icon_wave_small"
				d="m38 28a3.4376 3.4376 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.4376 3.4376 0 01-3 2 3.4376 3.4376 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.44 3.44 0 01-3 2 3.4376 3.4376 0 01-3-2 1.007 1.007 0 00-1-.7.9894.9894 0 00-1 .7 3.44 3.44 0 01-3 2 3.3663 3.3663 0 01-3-2 1 1 0 00-1-.7 1.0094 1.0094 0 00-1 .7 3.3663 3.3663 0 01-3 2 3.3663 3.3663 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.3663 3.3663 0 01-3 2 3.3663 3.3663 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.3663 3.3663 0 01-3 2 3.3663 3.3663 0 01-3-2 1 1 0 00-1-.7 1 1 0 00-1 .7 3.3663 3.3663 0 01-3 2v2a4.9958 4.9958 0 004-2 4.9958 4.9958 0 008 0 4.9958 4.9958 0 008 .0127 5.0192 5.0192 0 008 0 5.0192 5.0192 0 008 0 4.9316 4.9316 0 004 1.9873 4.9316 4.9316 0 004-2 4.9316 4.9316 0 004 2 4.9316 4.9316 0 004-2 4.9316 4.9316 0 004 2z" />
			<path fill="#eed202"
				d="M29.9115,14.9355,23.6284,3.3706a.7181.7181,0,0,0-1.2568,0L16.0885,14.9355A.72.72,0,0,0,16.72,16H29.28A.72.72,0,0,0,29.9115,14.9355ZM22.25,7h1.5v4h-1.5ZM23,14a1,1,0,1,1,1-1A1,1,0,0,1,23,14Z" />
		</svg>
	</div>
</template>

<script>
export default {
	props: {
		value: { type: Number }
	},
	computed: {
		adjustedValue() {
			if (this.value > 100)
				return 100
			if (this.value < 0)
				return 0
			return this.value
		},
		color() {
			if (this.value < 60)
				return "#836539"
			return "#09628b"
		}
	}
}
</script>

<style lang="scss">
.sm-icon {
	margin: auto;
	z-index: 10;
	padding: 5px;

	&_wrapper {
		position: relative;
		display: flex;
		min-height: 50px;
		min-width: 50px;
		max-height: 50px;
		max-width: 50px;
		border-radius: 10px;
		overflow: hidden;
	}

	&_background {
		position: absolute;
		left: 0;
		bottom: 0;
		width: 100%;
		color: #09628b;
	}

	&_wave {
		&_wrapper {
			position: absolute;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 115%;
			transition: all 1s;
		}

		&_big {
			animation: smBigWave 1.5s infinite linear;
		}

		&_small {
			animation: smSmallWave 1.5s infinite linear;
		}
	}
}

@keyframes smSmallWave {
	from {
		transform: translateX(0);
	}

	to {
		transform: translateX(24%);
	}
}

@keyframes smBigWave {
	from {
		transform: translateX(6px);
	}

	to {
		transform: translateX(13.6px);
	}
}


@media only screen and (max-width: 450px) {
	.sm-icon {
		&_wrapper {
			min-height: 35px;
			min-width: 35px;
			max-height: 35px;
			max-width: 35px;
		}
	}
}
</style>